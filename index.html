<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Simple Calculator</title>
  <style>
    :root {
      --bg: #0f172a;
      --panel: #111827;
      --accent: #22c55e;
      --accent-2: #06b6d4;
      --text: #e5e7eb;
      --muted: #9ca3af;
      --error: #ef4444;
      --btn: #1f2937;
      --btn-hover: #374151;
      --btn-active: #4b5563;
      --input: #0b1220;
      --ring: #2563eb66;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
      background: radial-gradient(1000px 600px at 20% -20%, #1f2937 0%, #0b1020 55%, #070c1a 100%), var(--bg);
      color: var(--text);
      min-height: 100vh;
      display: grid;
      place-items: center;
      padding: 24px;
    }
    .card {
      width: 100%;
      max-width: 560px;
      background: linear-gradient(180deg, rgba(255,255,255,0.03), rgba(255,255,255,0.01));
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 16px;
      padding: 20px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.35);
      backdrop-filter: blur(6px);
    }
    h1 {
      margin: 0 0 6px;
      font-size: 1.6rem;
      letter-spacing: 0.2px;
    }
    .sub {
      margin: 0 0 18px;
      color: var(--muted);
      font-size: 0.95rem;
    }
    .grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 14px;
    }
    label {
      display: block;
      font-size: 0.9rem;
      margin-bottom: 6px;
      color: #cbd5e1;
    }
    input[type="number"] {
      width: 100%;
      background: var(--input);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 10px;
      padding: 12px 14px;
      font-size: 1.05rem;
      outline: none;
      transition: border 0.15s, box-shadow 0.15s, transform 0.04s ease;
    }
    input[type="number"]:focus {
      border-color: var(--accent-2);
      box-shadow: 0 0 0 6px var(--ring);
    }
    .ops {
      display: grid;
      grid-template-columns: repeat(4, 1fr);
      gap: 10px;
      margin: 8px 0 12px;
    }
    .ops button {
      background: var(--btn);
      color: var(--text);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      height: 48px;
      font-size: 1.1rem;
      cursor: pointer;
      transition: transform 0.05s ease, background 0.15s, border-color 0.15s;
    }
    .ops button:hover { background: var(--btn-hover); }
    .ops button:active { transform: translateY(1px); }
    .ops button.active {
      background: var(--btn-active);
      border-color: rgba(255,255,255,0.18);
      box-shadow: inset 0 0 0 1px rgba(255,255,255,0.06);
    }
    .row {
      display: flex;
      gap: 10px;
      margin-top: 6px;
    }
    .primary {
      flex: 1;
      background: linear-gradient(180deg, #22c55e, #16a34a);
      color: #052e16;
      border: none;
      height: 48px;
      border-radius: 12px;
      font-weight: 700;
      font-size: 1.05rem;
      cursor: pointer;
      transition: transform 0.05s ease, filter 0.15s ease;
    }
    .primary:hover { filter: brightness(1.03); }
    .primary:active { transform: translateY(1px); }
    .ghost {
      width: 110px;
      background: transparent;
      color: var(--muted);
      border: 1px dashed rgba(255,255,255,0.16);
      height: 48px;
      border-radius: 12px;
      cursor: pointer;
    }
    .panel {
      background: rgba(15, 23, 42, 0.7);
      border: 1px solid rgba(255,255,255,0.08);
      border-radius: 12px;
      padding: 12px 14px;
      margin-top: 14px;
    }
    .result-label {
      color: #cbd5e1;
      font-size: 0.9rem;
    }
    .result-value {
      font-size: 1.6rem;
      font-weight: 800;
      letter-spacing: 0.2px;
      margin-top: 2px;
    }
    .muted {
      color: var(--muted);
    }
    .error {
      color: #fecaca;
      background: linear-gradient(180deg, rgba(239,68,68,0.18), rgba(239,68,68,0.1));
      border: 1px solid rgba(239,68,68,0.35);
      padding: 10px 12px;
      border-radius: 10px;
      margin-top: 10px;
      font-size: 0.95rem;
    }
    footer {
      margin-top: 14px;
      color: var(--muted);
      font-size: 0.85rem;
      display: flex;
      justify-content: space-between;
      gap: 10px;
      flex-wrap: wrap;
    }
    code.kbd {
      background: rgba(255,255,255,0.06);
      padding: 2px 6px;
      border-radius: 6px;
      border: 1px solid rgba(255,255,255,0.12);
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.85em;
    }
    @media (max-width: 520px) {
      .grid { grid-template-columns: 1fr; }
      .ops { grid-template-columns: repeat(4, minmax(0, 1fr)); }
    }
  </style>
</head>
<body>
  <main class="card" role="application" aria-label="Simple Calculator">
    <h1>Simple Calculator</h1>
    <p class="sub">Perform addition, subtraction, multiplication, and division. Handles divide-by-zero gracefully.</p>

    <div class="grid">
      <div>
        <label for="a">Number A</label>
        <input id="a" type="number" step="any" inputmode="decimal" placeholder="Enter first number" />
      </div>
      <div>
        <label for="b">Number B</label>
        <input id="b" type="number" step="any" inputmode="decimal" placeholder="Enter second number" />
      </div>
    </div>

    <div class="ops" role="group" aria-label="Choose operation">
      <button type="button" data-op="+" aria-label="Add">+</button>
      <button type="button" data-op="-" aria-label="Subtract">−</button>
      <button type="button" data-op="*" aria-label="Multiply">×</button>
      <button type="button" data-op="/" aria-label="Divide">÷</button>
    </div>

    <div class="row">
      <button class="primary" id="calcBtn" type="button">Calculate</button>
      <button class="ghost" id="clearBtn" type="button" aria-label="Clear inputs">Clear</button>
    </div>

    <div class="panel" aria-live="polite" aria-atomic="true">
      <div class="result-label">Result</div>
      <div id="result" class="result-value muted">—</div>
      <div id="error" class="error" role="alert" style="display:none;"></div>
    </div>

    <footer>
      <div>Tip: Click an operator button to calculate instantly.</div>
      <div>Shortcut: Press <code class="kbd">Enter</code> to calculate, <code class="kbd">Esc</code> to clear.</div>
    </footer>
  </main>

  <script>
    (function () {
      const aEl = document.getElementById('a');
      const bEl = document.getElementById('b');
      const resultEl = document.getElementById('result');
      const errorEl = document.getElementById('error');
      const calcBtn = document.getElementById('calcBtn');
      const clearBtn = document.getElementById('clearBtn');
      const opButtons = Array.from(document.querySelectorAll('.ops button'));

      let lastOp = '+'; // default operation

      function setActiveOp(op) {
        lastOp = op;
        opButtons.forEach(btn => btn.classList.toggle('active', btn.dataset.op === op));
      }

      function showError(msg) {
        errorEl.textContent = msg;
        errorEl.style.display = 'block';
        resultEl.classList.add('muted');
      }

      function clearError() {
        errorEl.textContent = '';
        errorEl.style.display = 'none';
        resultEl.classList.remove('muted');
      }

      function parseVal(inputEl) {
        const v = inputEl.value;
        if (v === '' || v === null) return NaN;
        const n = parseFloat(v);
        return Number.isFinite(n) ? n : NaN;
      }

      function formatNumber(n) {
        if (!Number.isFinite(n)) return String(n);
        // Clean -0 and reduce floating noise
        if (Object.is(n, -0)) n = 0;
        const fixed = Number(n.toFixed(12)); // trim fp noise
        // Switch to exponential for very large/small values
        const abs = Math.abs(fixed);
        if ((abs !== 0 && abs < 1e-6) || abs >= 1e12) {
          return fixed.toExponential(8).replace(/\+?0*(?=\d)/, ''); // tidy exponent
        }
        return fixed.toString();
      }

      function compute(op) {
        const a = parseVal(aEl);
        const b = parseVal(bEl);

        if (Number.isNaN(a) || Number.isNaN(b)) {
          showError('Please enter a valid number in both fields.');
          resultEl.textContent = '—';
          return;
        }

        if (op === '/' && b === 0) {
          showError('Cannot divide by zero. Please change Number B.');
          resultEl.textContent = '—';
          return;
        }

        clearError();
        let out;
        switch (op) {
          case '+': out = a + b; break;
          case '-': out = a - b; break;
          case '*': out = a * b; break;
          case '/': out = a / b; break;
          default: out = NaN;
        }
        resultEl.textContent = formatNumber(out);
      }

      // Event bindings
      opButtons.forEach(btn => {
        btn.addEventListener('click', () => {
          const op = btn.dataset.op;
          setActiveOp(op);
          compute(op);
        });
      });

      calcBtn.addEventListener('click', () => compute(lastOp));
      clearBtn.addEventListener('click', () => {
        aEl.value = '';
        bEl.value = '';
        clearError();
        resultEl.textContent = '—';
        aEl.focus();
      });

      // Keyboard shortcuts
      document.addEventListener('keydown', (e) => {
        if (e.key === 'Enter') {
          e.preventDefault();
          compute(lastOp);
        } else if (e.key === 'Escape') {
          e.preventDefault();
          clearBtn.click();
        } else if (['+', '-', '*', '/'].includes(e.key)) {
          setActiveOp(e.key);
        }
      });

      // Initialize default op button state
      setActiveOp(lastOp);
    })();
  </script>
</body>
</html>